Задачи

Подготовка и хранение информации и выдача для печати конвертов
- получить задание на печать в виде инн отправителя, инн получателя
- используя внешее API получить информацию об отправителе и получателе по их ИНН
- преобразовать полученную информацию для вывода на печать
- сохранить информацию в базе для повторного использования
- выдать готовую информацию по запросу


Порядок работы
1) админ  добавляет разрешенные api_key, команда 'new_api_key'
2) используя api_key пользователь регистрирует группу  group (произвольное имя, групп можно создать неограниченное количество), команда 'new_group'
3) используя api_key и  group, пользователь отправляет (добавляет к существующему) задание на печать.  массив пар значений, инн отправителя и инн получателя, команда 'add_task' (группа имеет только одно задание)
	по этой команде сервер проверяет инн в своей базе, если данных нет, то используя внешнее API получает информацию о компании по инн преобразует convert() и добапвляет ее в свою базу
	информацию о компании отправителе и получателе сервер добавляет в массив задания 
4)  используя api_key и  group, пользователь получает готовое задание на печать, команда 'read_task'
	по этой команде сервер возвращает массив задания пользователю и очищает его у себя
5) абонент может сохранить настройки печати полей, команда 'write_setting'
	по этой команде сервер сохраняет объект настроек для group под произвольным названием name, если назание уже есть то настройки перезаписываются
6) абонент может получить все настройки группы для печати полей, команда 'read_setting'
	по этой команде сервер отправляет массив объектов настроек для group
7) абонент может получить список групп, команда 'read_list'
	по этой команде сервер отправляет список групп для api_key

Таблицы 

api_keys - список разрешенных ключей
	name - первычный ключ
	api_key

groups  - список групп
	group - первычный ключ
	task - JSON строка массива задания

settings 
	group
	name
	setting - JSON строка объекта настроек


ПРОТОКОЛ

Регистрация группы
объект запроса
{
	api_key:'2345678',
	command:'new_group',
	data: {
		group: 'helen',
	}
}
объект ответа
{
	command:'new_app',	
	data: {
		group: 'helen',
		result: 'edit', ('new')
	}
}



Отправить задание
объект запроса
{
	api_key:'2345678',
	command:'add_task',
	data: {
		group: 'helen',
		task: '{......}',
	}
}
объект ответа
{
	command:'add_task',
	data: {
		result: 'add',
	}
}


Прочитать задание
объект запроса
{
	api_key:'2345678',
	command:'read_task',
	data: {
		group: 'helen',
	}
}
объект ответа
{
	command:'read_task',
	data: {
		task: '{......}',
	}
}

Отправить настройки печати
объект запроса
{
	api_key:'2345678',
	command:'write_setting',
	data: {
		group: 'helen',
		name: 'dl'
		setting: '{......}',
	}
}
объект ответа
{
	command:'write_setting',
	data: {
		group: 'helen',
		name: 'dl'
		result: 'edit', ('new')
	}
}

Получить все настройки печати для группы
объект запроса
{
	api_key:'2345678',
	command:'read_setting',
	data: {
		group: 'helen',
	}
}
объект ответа
{
	command:'read_setting',
	data: {
		group: 'helen',
		setting: '[{},{},{}]',
	}
}



получить список групп
объект запроса
{
	api_key:'2345678',
	command:'read_list',
	data: {}  
}
объект ответа
{
	command:'read_list',
	data: {
		list:[.....]
	}
}



добавить(изменить) разрешенный api_key 
объект запроса
{
	admin_key:'74965',
	command:'new_api_key',
	data: {
		name: 'vasa',
		api_key: '5286'
	}
}
объект ответа
{
	command:'new_api_key',	
	data: {
		name: 'vasa',
		result: 'edit', ('new')
	}
}

удалить name 
объект запроса
{
	admin_key:'74965',
	command:'dell_name',
	data: {
		name: 'vasa',
	}
}
объект ответа
{
	command:'dell_name',	
	data: {
		name: 'vasa',
		result: 'dell'
	}
}

admin_key - хранится прямо в коде сервера в виде объявления переменной
